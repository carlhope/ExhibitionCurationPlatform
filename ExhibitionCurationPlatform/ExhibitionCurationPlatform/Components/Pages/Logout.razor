@page "/account/logout"
@using ExhibitionCurationPlatform.Context
@using Microsoft.AspNetCore.Identity
@rendermode InteractiveServer
@inject SignInManager<ApplicationUser> SignInManager
@inject NavigationManager Navigation

@if (_hasLoggedOut)
{
    <p>you have been logged out</p>
}
else
{
    <p>you are still logged in</p>
}

@code {
    private bool _hasLoggedOut;
    protected override async Task OnInitializedAsync()
    {
        await SignInManager.SignOutAsync();
        _hasLoggedOut = true;
        Navigation.NavigateTo("/test", true);
    }
}
